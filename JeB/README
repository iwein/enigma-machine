We went crazy with JUnit's parameterized testrunner.
